# Aya-Game-Map
射命丸文的寂静故乡的地图制作。本包包括了两块内容：一是Python进行地图测绘的脚本，该脚本不稳定，建议使用前询问作者；二是制作完成的地图。

# 游戏自动跑图与地图生成工具

## 📁 项目简介

本项目用于自动化处理游戏内的地图数据，通过脚本自动跑图、识别坐标/图像，并最终生成可视化的地图文件。主要包含地图数据采集、OCR 识别调试、坐标校准以及地图绘制渲染四个模块。

---

## 🚀 核心脚本 (Core Scripts)

这些是你最常交互的主要入口文件：

- **`auto_mapper_suite_v2.py`** (👑 推荐入口)
  - **功能**：自动化跑图套件的 V2 版本。应该是目前功能最全的主程序，集成了跑图、记录数据等核心逻辑。
  - **使用**：日常跑图挂机主要运行这个。

- **`auto_visualizer_v3.py`** (🎨 推荐绘图)
  - **功能**：地图可视化生成器的 V3 版本。读取采集到的 CSV 数据，渲染成最终的地图图片（如 JPG/PSD）。
  - **使用**：跑完图后，用这个把数据变成图。

- **`main.py`**
  - **功能**：旧版的入口文件或简单的启动器。可能已被 `suite_v2` 取代。

---

## 🛠️ 工具与处理 (Utilities & Processing)

辅助核心功能运行的模块，通常被主程序调用：

- **`CoordinateProcessor.py`**
  - **功能**：坐标处理核心类。负责处理游戏内的 (x, y) 坐标计算、转换逻辑。
- **`calibrate_offset.py`**
  - **功能**：偏移量校准工具。用于调整截图或 OCR 识别时的位置偏差，确保地图拼接严丝合缝。
- **`map_custom_exporter.py`**
  - **功能**：自定义地图导出器。可能用于支持特定的导出格式，或者导出 PSD 图层结构。
- **`fix_csv_data.py`**
  - **功能**：数据修复工具。如果跑图过程中 CSV 数据损坏或有坏点，用这个脚本进行后期修复。

---

## 🐛 调试与测试 (Debugging)

开发过程中用于测试特定功能的脚本：

- **`debug_ocr_view.py`**
  - **功能**：OCR 识别调试视图。用于实时查看屏幕文字识别情况（如识别当前坐标数值），如果地图位置对不上，先跑这个查错。
- **`debug_view.py`**
  - **功能**：通用调试视图。可能用于显示当前的截图区域或程序判定状态。

---

## 📜 历史版本 (Legacy / Deprecated)

保留的历史版本，除非新版出 bug，否则不建议直接使用：

- `auto_maper.py` / `auto_maper_v2.py`: 旧版的自动跑图逻辑。
- `auto_mapper_suite.py`: 套件的 V1 版本。
- `auto_visualizer.py` / `auto_visualizer_v2.py`: 旧版的可视化脚本。
- `visualize_map.py`: 最早期的地图绘制脚本原型。

---

## 📂 数据输出结构 (Output)

生成的数据保存在 `game_data_output` 目录下，按时间戳归档：

```text
game_data_output/
└── map_data_[时间戳]/          # 某次跑图的完整记录
    ├── map_snapshots/          # 跑图过程中的截图快照
    ├── map_matrix.csv          # 原始地图矩阵数据
    ├── map_matrix_fixed.csv    # 修复后的地图矩阵数据
    ├── custom_maps_output/     # 导出的成品图
    └── [地图名].jpg/psd         # 手动制作的地图文件 (如: 红魔馆地下墓穴)
```

